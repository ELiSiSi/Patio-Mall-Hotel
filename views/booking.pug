extends base

block content
  main.main-content

    //- ===== HERO =====
    section.hero-banner.hero-booking
      .hero-content
        .hero-text
          h1
            i(class="fa-solid fa-calendar-check" style="margin-left:10px; color:#ffd166;")
            | Ø§Ø­Ø¬Ø² Ù…Ø¹ ÙƒÙˆØ® Ø§Ù„Ø¨Ø§ØªÙŠÙˆ
          p
            i(class="fa-solid fa-star" style="color:#fff; margin-left:6px;")
            | Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø­Ø¬Ø² Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ùƒ - ØºØ±ÙØ© ÙÙ†Ø¯Ù‚ÙŠØ©ØŒ Ù…Ù†Ø§Ø³Ø¨Ø© Ø®Ø§ØµØ©ØŒ Ø£Ùˆ ÙƒÙˆØ® Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠ ğŸ‰

          .badge-row
            span.badge
              i(class="fa-solid fa-bed")
              |  ØºØ±Ù ÙÙ†Ø¯Ù‚ÙŠØ©
            span.badge
              i(class="fa-solid fa-ring")
              |  Ù…Ù†Ø§Ø³Ø¨Ø§Øª
            span.badge
              i(class="fa-solid fa-tree")
              |  Ø£ÙƒÙˆØ§Ø® Ø®Ø§ØµØ©

    //- ===== BOOKING FORM =====
    .booking-wrapper
      .max-w-4xl
        .booking-form-card
          h2.form-title
            i(class="fa-solid fa-file-pen" style="margin-left:8px; color:#f43f5e;")
            | ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­Ø¬Ø²

          form#bookingForm.booking-form

            //- ===== SECTION 1: Ù†ÙˆØ¹ Ø§Ù„Ø­Ø¬Ø² =====
            .form-section-block
              .section-header
                span.section-num 1
                h3.section-label
                  i(class="fa-solid fa-list-check" style="margin-left:5px; color:#db2777;")
                  | Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø­Ø¬Ø² *

              .booking-type-grid
                .type-card(data-type="room")
                  .type-icon
                    i(class="fa-solid fa-bed")
                  h3 ØºØ±ÙØ© ÙÙ†Ø¯Ù‚ÙŠØ©
                  p Ø¥Ù‚Ø§Ù…Ø© Ù…Ø±ÙŠØ­Ø© Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§ÙÙ‚

                .type-card(data-type="event")
                  .type-icon
                    i(class="fa-solid fa-champagne-glasses")
                  h3 Ù…Ù†Ø§Ø³Ø¨Ø© Ø®Ø§ØµØ©
                  p Ø£ÙØ±Ø§Ø­ØŒ Ø®Ø·ÙˆØ¨Ø©ØŒ Ø£Ø¹ÙŠØ§Ø¯ Ù…ÙŠÙ„Ø§Ø¯

                .type-card(data-type="cottage")
                  .type-icon
                    i(class="fa-solid fa-house-chimney-window")
                  h3 ÙƒÙˆØ® Ø®Ø§Øµ
                  p ØªØ¬Ø±Ø¨Ø© Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠØ© Ù…Ù…ÙŠØ²Ø©

              input#selectedType(type="hidden" name="bookingType" required)

            //- ===== SECTION 2: Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ =====
            .form-section-block
              .section-header
                span.section-num 2
                h3.section-label
                  i(class="fa-solid fa-user-circle" style="margin-left:5px;")
                  | Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„

              .form-row
                .form-group
                  label(for="name") Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ *
                  .input-with-icon
                    input#name.form-input(type="text" name="name" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„" required)
                    i(class="fa-solid fa-user input-icon")

                .form-group
                  label(for="phone") Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ *
                  .input-with-icon
                    input#phone.form-input(type="tel" name="phone" placeholder="01XXXXXXXXX" required)
                    i(class="fa-solid fa-phone input-icon")

            //- ===== SECTION 3: ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­Ø¬Ø² - ØªØ¸Ù‡Ø± Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹ =====
            .form-section-block#bookingDetailsBlock(style="display:none;")
              .section-header
                span.section-num 3
                h3.section-label#detailsTitle
                  i(class="fa-solid fa-info-circle" style="margin-left:5px;")
                  | ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­Ø¬Ø²

              //- ===== DETAILS: ØºØ±ÙØ© ÙÙ†Ø¯Ù‚ÙŠØ© =====
              #detailsRoom(style="display:none;")
                .form-group
                  label(for="roomType") Ø§Ø®ØªØ± Ø§Ù„ØºØ±ÙØ© *
                  select#roomType.form-select(name="roomType")
                    option(value="") -- Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„ØºØ±ÙØ© --
                    each room in rooms
                      option(value=room.name) #{room.name} - #{room.price} Ø¬/Ù„ÙŠÙ„Ø©

                .form-row
                  .form-group
                    label(for="checkIn") ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØµÙˆÙ„ *
                    .input-with-icon
                      input#checkIn.form-input(type="date" name="checkIn")
                      i(class="fa-solid fa-calendar-days input-icon")

                  .form-group
                    label(for="checkOut") ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø© *
                    .input-with-icon
                      input#checkOut.form-input(type="date" name="checkOut")
                      i(class="fa-solid fa-calendar-check input-icon")

                .form-row
                  .form-group
                    label(for="adults") Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ø®Ø§Øµ
                    .input-with-icon
                      input#adults.form-input(type="number" name="numbers" min="1" max="10" value="1")
                      i(class="fa-solid fa-user input-icon")
                  .form-group
                    label(for="roomCount") Ø¹Ø¯Ø¯ Ø§Ù„ØºØ±Ù
                    .input-with-icon
                      input#roomCount.form-input(type="number" name="rooms" min="1" max="10" value="1")
                      i(class="fa-solid fa-door-open input-icon")

                .form-group
                  label(for="roomNotes") Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
                  .input-with-icon
                    textarea#roomNotes.form-textarea(name="message" rows="3" placeholder="Ø£ÙŠ Ø·Ù„Ø¨Ø§Øª Ø®Ø§ØµØ©ØŸ (Ø³Ø±ÙŠØ± Ø¥Ø¶Ø§ÙÙŠØŒ Ø¥Ø·Ù„Ø§Ù„Ø© Ù…Ø¹ÙŠÙ†Ø©...)")
                    i(class="fa-solid fa-message input-icon textarea-icon")

              //- ===== DETAILS: Ù…Ù†Ø§Ø³Ø¨Ø© Ø®Ø§ØµØ© =====
              #detailsEvent(style="display:none;")
                .form-group
                  label(for="eventType") Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© *
                  select#eventType.form-select(name="eventType")
                    option(value="") -- Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© --
                    option(value="wedding") Ø­ÙÙ„ Ø²ÙØ§Ù
                    option(value="engagement") Ø®Ø·ÙˆØ¨Ø©
                    option(value="birthday") Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯
                    option(value="anniversary") Ø°ÙƒØ±Ù‰ Ø³Ù†ÙˆÙŠØ©
                    option(value="corporate") Ø­Ø¯Ø« Ø´Ø±ÙƒØ§Øª
                    option(value="photo") Ø¬Ù„Ø³Ø© ØªØµÙˆÙŠØ± ÙÙ‚Ø·
                    option(value="other") Ø£Ø®Ø±Ù‰

                .form-row
                  .form-group
                    label(for="eventDate") ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© *
                    .input-with-icon
                      input#eventDate.form-input(type="date" name="checkIn")
                      i(class="fa-solid fa-calendar-days input-icon")
                  .form-group
                    label(for="eventDuration") Ù…Ø¯Ø© Ø§Ù„Ø­ÙÙ„
                    .input-with-icon
                      select#eventDuration.form-select(name="eventDuration")
                        option(value="1") 1 Ø³Ø§Ø¹Ø©
                        option(value="2") 2 Ø³Ø§Ø¹Ø§Øª
                        option(value="3") 3 Ø³Ø§Ø¹Ø§Øª
                        option(value="4") 4 Ø³Ø§Ø¹Ø§Øª
                        option(value="5" selected) 5 Ø³Ø§Ø¹Ø§Øª
                        option(value="6") 6 Ø³Ø§Ø¹Ø§Øª
                        option(value="7") 7 Ø³Ø§Ø¹Ø§Øª
                        option(value="8") 8 Ø³Ø§Ø¹Ø§Øª
                        option(value="full") ÙŠÙˆÙ… ÙƒØ§Ù…Ù„
                      i(class="fa-solid fa-hourglass-half input-icon")

                .form-row
                  .form-group
                    label(for="guestCount") Ø¹Ø¯Ø¯ Ø§Ù„Ø¶ÙŠÙˆÙ *
                    .input-with-icon
                      input#guestCount.form-input(type="number" name="numbers" min="10" max="500" placeholder="Ø¹Ø¯Ø¯ ØªÙ‚Ø±ÙŠØ¨ÙŠ")
                      i(class="fa-solid fa-users input-icon")
                  .form-group
                    label(for="eventTime") ÙŠØ¨Ø¯Ø£ Ù…Ù† Ø§Ù„Ø³Ø§Ø¹Ø©ØŸ
                    .input-with-icon
                      input#eventTime.form-input(type="text" name="eventTime" placeholder="Ù…Ø«Ø§Ù„: 4 Ø¹ØµØ±Ø§Ù‹")
                      i(class="fa-solid fa-clock input-icon")

                .form-group
                  label
                    i(class="fa-solid fa-utensils" style="margin-left:5px;")
                    | Ø®Ø¯Ù…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
                  .checkbox-group
                    label.checkbox-label
                      input(type="checkbox" name="catering" value="yes")
                      span Ø®Ø¯Ù…Ø© Ø·Ø¹Ø§Ù… ÙˆØ¶ÙŠØ§ÙØ©
                    label.checkbox-label
                      input(type="checkbox" name="decoration" value="yes")
                      span ØªØ²ÙŠÙŠÙ† ÙˆØ¯ÙŠÙƒÙˆØ±
                    label.checkbox-label
                      input(type="checkbox" name="photography" value="yes")
                      span ØªØµÙˆÙŠØ± ÙÙˆØªÙˆØºØ±Ø§ÙÙŠ

                .form-group
                  label(for="eventNotes") ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ©
                  .input-with-icon
                    textarea#eventNotes.form-textarea(name="message" rows="4" placeholder="Ø£Ø®Ø¨Ø±Ù†Ø§ Ø§Ù„Ù…Ø²ÙŠØ¯ Ø¹Ù† Ø±Ø¤ÙŠØªÙƒ Ù„Ù„Ù…Ù†Ø§Ø³Ø¨Ø©...")
                    i(class="fa-solid fa-message input-icon textarea-icon")

              //- ===== DETAILS: ÙƒÙˆØ® Ø®Ø§Øµ =====
              #detailsCottage(style="display:none;")
                .form-row
                  .form-group
                    label(for="cottageCheckIn") ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØµÙˆÙ„ *
                    .input-with-icon
                      input#cottageCheckIn.form-input(type="date" name="checkIn")
                      i(class="fa-solid fa-calendar-days input-icon")

                  .form-group
                    label(for="cottageDays") Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù… *
                    .input-with-icon
                      input#cottageDays.form-input(type="number" name="cottageDays" min="1" max="14" value="1")
                      i(class="fa-solid fa-calendar-week input-icon")

                .form-group
                  label(for="cottageGuests") Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ø®Ø§Øµ
                  .input-with-icon
                    input#cottageGuests.form-input(type="number" name="numbers" min="1" max="6" value="2")
                    i(class="fa-solid fa-users input-icon")

                .form-group
                  label
                    i(class="fa-solid fa-sparkles" style="margin-left:5px;")
                    | Ø¥Ø¶Ø§ÙØ§Øª Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠØ©
                  .checkbox-group
                    label.checkbox-label
                      input(type="checkbox" name="flowers" value="yes")
                      span Ø¨Ø§Ù‚Ø© ÙˆØ±Ø¯ Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠØ©
                    label.checkbox-label
                      input(type="checkbox" name="candles" value="yes")
                      span Ø´Ù…ÙˆØ¹ ÙˆØ¥Ø¶Ø§Ø¡Ø© Ø®Ø§ØµØ©
                    label.checkbox-label
                      input(type="checkbox" name="breakfast" value="yes")
                      span Ø¥ÙØ·Ø§Ø± Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠ
                    label.checkbox-label
                      input(type="checkbox" name="surprise" value="yes")
                      span Ù…ÙØ§Ø¬Ø£Ø© Ø®Ø§ØµØ©

                .form-group
                  label(for="cottageNotes") Ø·Ù„Ø¨Ø§Øª Ø®Ø§ØµØ©
                  .input-with-icon
                    textarea#cottageNotes.form-textarea(name="message" rows="3" placeholder="Ø£ÙŠ ØªÙØ§ØµÙŠÙ„ ØªÙˆØ¯ Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ù„Ø¬Ø¹Ù„ Ø¥Ù‚Ø§Ù…ØªÙƒ Ù…Ù…ÙŠØ²Ø©...")
                    i(class="fa-solid fa-message input-icon textarea-icon")

            //- ===== SUBMIT BUTTON =====
            .form-navigation
              button.submit-btn(type="submit")
                span Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø­Ø¬Ø²
                i(class="fa-solid fa-paper-plane" style="margin-right:8px;")

            p.form-note * Ø­Ù‚ÙˆÙ„ Ù…Ø·Ù„ÙˆØ¨Ø©. Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø© Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªÙˆÙØ± ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©.

        //- Contact Card
        .contact-cta-card
          h3 ØªØ­ØªØ§Ø¬ Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙˆØ±ÙŠØ©ØŸ
          p Ø§ØªØµÙ„ Ø¨Ù†Ø§ Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ù…Ù†Ø§Ù‚Ø´Ø© Ù…ØªØ·Ù„Ø¨Ø§Øª Ø­Ø¬Ø²Ùƒ
          a.contact-cta-btn(href="tel:01102443884")
            span 01102443884
            i(class="fa-solid fa-phone-volume" style="margin-right:8px;")

    //- ===== Toast Container =====
    #toast-container

  //- ===== JAVASCRIPT =====
  script.
    document.addEventListener('DOMContentLoaded', function () {
      const typeCards = document.querySelectorAll('.type-card');
      const selectedTypeInput = document.getElementById('selectedType');
      const bookingDetailsBlock = document.getElementById('bookingDetailsBlock');
      const detailsRoom = document.getElementById('detailsRoom');
      const detailsEvent = document.getElementById('detailsEvent');
      const detailsCottage = document.getElementById('detailsCottage');
      const detailsTitle = document.getElementById('detailsTitle');
      const submitBtn = document.querySelector('.submit-btn');

      let selectedType = '';

      // ===== Toast =====
      function showToast(message, type = 'error') {
        const container = document.getElementById('toast-container');
        const toast = document.createElement('div');
        toast.className = `toast toast-${type}`;
        const icons = { error: 'fa-circle-exclamation', warning: 'fa-triangle-exclamation', success: 'fa-circle-check', info: 'fa-circle-info' };
        toast.innerHTML = `
          <div class="toast-content">
            <i class="fa-solid ${icons[type]} toast-icon"></i>
            <span class="toast-message">${message}</span>
          </div>
          <div class="toast-progress"></div>
        `;
        container.appendChild(toast);
        setTimeout(() => toast.classList.add('show'), 10);
        setTimeout(() => {
          toast.classList.remove('show');
          setTimeout(() => toast.remove(), 300);
        }, 4000);
      }

      function shakeField(element) {
        element.style.animation = 'shake 0.5s ease';
        element.style.borderColor = '#ef4444';
        setTimeout(() => { element.style.animation = ''; element.style.borderColor = ''; }, 500);
      }

      // Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ø­Ø¬Ø²
      typeCards.forEach(card => {
        card.addEventListener('click', function () {
          typeCards.forEach(c => c.classList.remove('active'));
          this.classList.add('active');
          selectedType = this.dataset.type;
          selectedTypeInput.value = selectedType;

          // Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø«Ù… Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨
          detailsRoom.style.display = 'none';
          detailsEvent.style.display = 'none';
          detailsCottage.style.display = 'none';
          bookingDetailsBlock.style.display = 'block';

          if (selectedType === 'room') {
            detailsRoom.style.display = 'block';
            detailsTitle.innerHTML = '<i class="fa-solid fa-bed" style="margin-left:5px;"></i> ØªÙØ§ØµÙŠÙ„ Ø­Ø¬Ø² Ø§Ù„ØºØ±ÙØ©';
          } else if (selectedType === 'event') {
            detailsEvent.style.display = 'block';
            detailsTitle.innerHTML = '<i class="fa-solid fa-champagne-glasses" style="margin-left:5px;"></i> ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©';
          } else if (selectedType === 'cottage') {
            detailsCottage.style.display = 'block';
            detailsTitle.innerHTML = '<i class="fa-solid fa-house-chimney-window" style="margin-left:5px;"></i> ØªÙØ§ØµÙŠÙ„ Ø­Ø¬Ø² Ø§Ù„ÙƒÙˆØ®';
          }

          // Smooth scroll Ù„Ù„Ù‚Ø³Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯
          setTimeout(() => {
            bookingDetailsBlock.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }, 100);
        });
      });

      // ===== Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ =====
      document.getElementById('bookingForm').addEventListener('submit', async function (e) {
        e.preventDefault();

        const name = document.getElementById('name').value.trim();
        const phone = document.getElementById('phone').value.trim();
        let hasError = false;

        if (!selectedType) {
          showToast('ğŸ‘ˆ Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø­Ø¬Ø² Ø£ÙˆÙ„Ø§Ù‹', 'warning');
          return;
        }

        if (!name) {
          shakeField(document.getElementById('name'));
          showToast('âœï¸ Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„', 'error');
          hasError = true;
        }

        if (!phone) {
          shakeField(document.getElementById('phone'));
          showToast('ğŸ“± Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ', 'error');
          hasError = true;
        } else if (!/^(01)[0-9]{9}$/.test(phone)) {
          shakeField(document.getElementById('phone'));
          showToast('âš ï¸ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ø¯Ø£ Ø¨Ù€ 01 ÙˆÙŠØªÙƒÙˆÙ† Ù…Ù† 11 Ø±Ù‚Ù…', 'error');
          hasError = true;
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ø­Ø¬Ø²
        if (selectedType === 'room') {
          const roomType = document.getElementById('roomType').value;
          const checkIn = document.getElementById('checkIn').value;
          const checkOut = document.getElementById('checkOut').value;
          if (!roomType) { shakeField(document.getElementById('roomType')); showToast('ğŸ¨ Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„ØºØ±ÙØ©', 'warning'); hasError = true; }
          if (!checkIn) { shakeField(document.getElementById('checkIn')); showToast('ğŸ“… Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø®ØªØ± ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØµÙˆÙ„', 'warning'); hasError = true; }
          if (!checkOut) { shakeField(document.getElementById('checkOut')); showToast('ğŸ“… Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø®ØªØ± ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ØºØ§Ø¯Ø±Ø©', 'warning'); hasError = true; }
        } else if (selectedType === 'event') {
          const eventType = document.getElementById('eventType').value;
          const eventDate = document.getElementById('eventDate').value;
          if (!eventType) { shakeField(document.getElementById('eventType')); showToast('ğŸ‰ Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©', 'warning'); hasError = true; }
          if (!eventDate) { shakeField(document.getElementById('eventDate')); showToast('ğŸ“… Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø®ØªØ± ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©', 'warning'); hasError = true; }
        } else if (selectedType === 'cottage') {
          const cottageCheckIn = document.getElementById('cottageCheckIn').value;
          if (!cottageCheckIn) { shakeField(document.getElementById('cottageCheckIn')); showToast('ğŸ¡ Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø®ØªØ± ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆØµÙˆÙ„', 'warning'); hasError = true; }
        }

        if (hasError) return;

        // ===== ØªØ¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹ =====
        const getValue = (id) => {
          const el = document.getElementById(id);
          return el ? el.value.trim() : '';
        };
        const getChecked = (name) => document.querySelector(`input[name="${name}"]`)?.checked || false;

        let checkIn = '';
        let checkOut = '';
        let numbers = 1;
        let rooms = 1;
        let message = 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª';
        let extraFields = {};

        if (selectedType === 'room') {
          checkIn  = getValue('checkIn');
          checkOut = getValue('checkOut');
          numbers  = parseInt(getValue('adults') || 1);
          rooms    = parseInt(getValue('roomCount') || 1);
          message  = getValue('roomNotes') || 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª';
          extraFields.roomType = getValue('roomType');

        } else if (selectedType === 'event') {
          checkIn  = getValue('eventDate');
          checkOut = checkIn; // Ù†ÙØ³ Ø§Ù„ÙŠÙˆÙ…
          numbers  = parseInt(getValue('guestCount') || 1);
          message  = getValue('eventNotes') || 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª';
          extraFields = {
            eventType:     getValue('eventType'),
            eventDuration: getValue('eventDuration'),
            eventTime:     getValue('eventTime'),
            catering:      getChecked('catering'),
            decoration:    getChecked('decoration'),
            photography:   getChecked('photography'),
          };

        } else if (selectedType === 'cottage') {
          checkIn = getValue('cottageCheckIn');
          const days = parseInt(getValue('cottageDays') || 1);
          const arrivalDate = new Date(checkIn);
          arrivalDate.setDate(arrivalDate.getDate() + days);
          checkOut = arrivalDate.toISOString().split('T')[0];
          numbers  = parseInt(getValue('cottageGuests') || 2);
          message  = getValue('cottageNotes') || 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª';
          extraFields = {
            flowers:   getChecked('flowers'),
            candles:   getChecked('candles'),
            breakfast: getChecked('breakfast'),
            surprise:  getChecked('surprise'),
          };
        }

        const payload = {
          name: document.getElementById('name').value.trim(),
          phone: document.getElementById('phone').value.trim(),
          bookingType: selectedType,
          checkIn,
          checkOut,
          numbers,
          rooms: selectedType === 'room' ? rooms : 1,
          message,
          ...extraFields,
        };

        submitBtn.classList.add('loading');
        showToast('â³ Ø¬Ø§Ø±ÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø­Ø¬Ø²...', 'info');

        try {
          const response = await fetch('/api/v1/booking', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
          });

          const result = await response.json();

          if (response.ok) {
            showToast('âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø­Ø¬Ø² Ø¨Ù†Ø¬Ø§Ø­! Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹', 'success');
            document.getElementById('bookingForm').reset();
            typeCards.forEach(c => c.classList.remove('active'));
            bookingDetailsBlock.style.display = 'none';
            selectedType = '';
            selectedTypeInput.value = '';
          } else {
            const errorMsg = result.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰';
            showToast('âŒ ' + errorMsg, 'error');
          }
        } catch (err) {
          showToast('âŒ ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…ØŒ ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„ ÙˆØ­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§Ù‹', 'error');
        } finally {
          submitBtn.classList.remove('loading');
        }
      });

      // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„ØªØ§Ø±ÙŠØ® (Ø§Ù„ÙŠÙˆÙ…)
      const today = new Date().toISOString().split('T')[0];
      document.querySelectorAll('input[type="date"]').forEach(input => {
        input.setAttribute('min', today);
      });
    });

  //- ===== CSS =====
  style.
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
      20%, 40%, 60%, 80% { transform: translateX(5px); }
    }

    .form-section-block {
      background: #fff;
      border: 1px solid #fce7f3;
      border-radius: 16px;
      padding: 28px;
      margin-bottom: 24px;
      transition: box-shadow 0.3s ease;
    }
    .form-section-block:hover {
      box-shadow: 0 4px 20px rgba(244, 63, 94, 0.08);
    }

    .section-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
      padding-bottom: 14px;
      border-bottom: 2px dashed #fce7f3;
    }
    .section-num {
      width: 36px;
      height: 36px;
      background: linear-gradient(135deg, #f43f5e, #db2777);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 16px;
      flex-shrink: 0;
    }
    .section-label {
      font-size: 18px;
      font-weight: 700;
      color: #1f2937;
      margin: 0;
    }

    .type-card {
      transition: all 0.3s ease;
      cursor: pointer;
      border: 2px solid transparent;
    }
    .type-card.active {
      border-color: #f43f5e;
      background: linear-gradient(135deg, #fff1f2 0%, #ffe4e6 100%);
      transform: scale(1.02);
      box-shadow: 0 8px 25px rgba(244, 63, 94, 0.2);
    }
    .type-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.12);
    }

    /* Toast */
    #toast-container {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 9999;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .toast {
      background: white;
      border-radius: 12px;
      padding: 16px 20px;
      min-width: 300px;
      max-width: 400px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.15);
      transform: translateX(-120%);
      opacity: 0;
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      position: relative;
      overflow: hidden;
      border-right: 4px solid;
    }
    .toast.show { transform: translateX(0); opacity: 1; }
    .toast-error { border-right-color: #ef4444; background: linear-gradient(135deg, #fef2f2 0%, #ffffff 100%); }
    .toast-warning { border-right-color: #f59e0b; background: linear-gradient(135deg, #fffbeb 0%, #ffffff 100%); }
    .toast-success { border-right-color: #10b981; background: linear-gradient(135deg, #ecfdf5 0%, #ffffff 100%); }
    .toast-info { border-right-color: #3b82f6; background: linear-gradient(135deg, #eff6ff 0%, #ffffff 100%); }
    .toast-content { display: flex; align-items: center; gap: 12px; }
    .toast-icon { font-size: 20px; flex-shrink: 0; }
    .toast-error .toast-icon { color: #ef4444; }
    .toast-warning .toast-icon { color: #f59e0b; }
    .toast-success .toast-icon { color: #10b981; }
    .toast-info .toast-icon { color: #3b82f6; }
    .toast-message { color: #374151; font-size: 14px; font-weight: 500; line-height: 1.5; }
    .toast-progress {
      position: absolute; bottom: 0; left: 0; height: 3px;
      background: currentColor; opacity: 0.3;
      animation: progress 4s linear forwards;
    }
    @keyframes progress { from { width: 100%; } to { width: 0%; } }

    /* Focus States */
    .form-input:focus, .form-select:focus, .form-textarea:focus {
      outline: none;
      border-color: #f43f5e;
      box-shadow: 0 0 0 3px rgba(244, 63, 94, 0.1);
    }
    .form-input.error, .form-select.error {
      border-color: #ef4444;
      background-color: #fef2f2;
    }

    /* Submit Button */
    .submit-btn {
      width: 100%;
      padding: 16px 32px;
      background: linear-gradient(135deg, #f43f5e, #db2777);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 20px rgba(244, 63, 94, 0.35);
    }
    .submit-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(244, 63, 94, 0.45); }
    .submit-btn.loading { opacity: 0.7; pointer-events: none; }
    .submit-btn.loading::after {
      content: '';
      display: inline-block;
      width: 18px;
      height: 18px;
      border: 2px solid #ffffff;
      border-top-color: transparent;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    .form-navigation { margin-top: 16px; }
    .form-note { text-align: center; color: #9ca3af; font-size: 13px; margin-top: 12px; }
